local MainArtifactStat = {

	Divine = {
		Necklace = {
			["MoonlightNecklace"] = {
				TitleName = "Moonlight Necklace",
				
				PassiveSet = "Moonlight"
				
			},
			
			["PhoenixClawsNecklace"] = {
				TitleName = "Phoenix Feather Necklace",
				 
				PassiveSet = "Flame of Eternal"

			},
			
			
			["SongtestaNecklace"] = {
				TitleName = "Songtesta Necklace",
				
				PassiveSet = "Songtesta"

			},
			["WeterbornNecklace"] = {
				TitleName = "Weterborn Necklace",
				
				PassiveSet = "Weterborn"

			},
			["SharkToothNecklace"] = {
				TitleName = "SharkTooth",
				
				PassiveSet = "Luck of The Sea"

			},
			["ArgivyNecklace"] = {
				
				TitleName = "Argivy Necklace",
				
				PassiveSet = "Argivy"
				
			},
			["Origami Necklace"] = {

				TitleName = "Origami Necklace",
				
				PassiveSet = "Origami"

			},
			
			
			
		},
		
		Amulet = {
			["ArgivyAmulet"] = { 
				TitleName = "Argivy Amulet", 
				
				PassiveSet = "Argivy"
			}

		},
		Bracelet = {
			["BurnedHornBracelet"] = { 
				TitleName = "Burned Horn Bracelet", 
				
				PassiveSet = "Burned Horn"
				
			}
		},
		Ring = {
			["GoldenThornRing"] = { 
				TitleName = "Golden Thorn Ring", 
				PassiveSet = "Explorer's Decision"
				},
			["Origami Ring"] = {

				TitleName = "Origami Ring",
			
				PassiveSet = "Origami"

			},

		},
		Gems = {

			["PhoenixTear"] = {
				TitleName = "Phoenix Tear Gemstones",
				
				PassiveSet = "Flame of Eternal"

			},
		},
		Apparel = {
			["Adventure of The Storyteller"] = { 
				TitleName = "Adventure of The Storyteller", 
				
				PassiveSet = "Storyteller"
			}	
		},
		Relic = {
			
			["HolyGrail"] = { 
				TitleName = "Holy Grail", 
				
				PassiveSet = "Holy"
			}
			
			
		}

	},

	Mythical = {
		Necklace = {

		},
		Amulet = {
			["BurnedHornAmulet"] = { 
				TitleName = "Burned Horn Amulet", 
				
				PassiveSet = "Burned Horn "
			},
			["ThunderHornAmulet"] = { 
				TitleName = "Thunder Horn Amulet", 
				
				PassiveSet = "Thunder Horn"
			}
		},
		Bracelet = {

			["Origami Bracelet"] = {

				TitleName = "Origami Bracelet",
				
				PassiveSet = "Origami"

			},
		},
		Ring = {


		},
		Gems = {
			["ArgivyGems"] = { 
				TitleName = "Argivy Gems", 
				
				PassiveSet = "Argivy"
			},
		},
		Apparel = {

			["PhoenixUniform"] = {
				TitleName = "Phoenix Uniform",
			 
				PassiveSet = "Flame of Eternal"

			},
		},
		Relic = {

			["PhoenixFeather"] = { 
				TitleName = "Phoenix Feather", 
				
				PassiveSet = "Flame of Eternal"
			}


		}
		

	},

	Legendary = {
		
		Necklace = {

		},
		Amulet = {
			["BurnedHornAmulet"] = { 
				TitleName = "Burned Horn Amulet", 
				
				PassiveSet = "Burned Horn "
			},
			["ThunderHornAmulet"] = { 
				TitleName = "Thunder Horn Amulet", 
				
				PassiveSet = "Thunder Horn"
			}
		},
		Bracelet = {
			["BurnedHornBracelet"]= {
				TitleName = "Burned Horn Bracelet",
				
				PassiveSet = "Burned Horn"

			},
			
			["IfritBracelet"] = {
				TitleName = "Ifrit Bracelet",
				 
				PassiveSet = "Flame of Eternal"

			},
		},
		Ring = {
			["SurtrRing"] = {
				TitleName = "Surtr Ring",
				 
				PassiveSet = "Flame of Eternal"

			},

		},
		Gems = {

		},
		Apparel = {
			["OrigamiRobe"] = {

				TitleName = "Origami Robe",
				
				PassiveSet = "Origami"

			},

		},
		Relic = {

			["OrigamiBird"] = {

				TitleName = "Origami Bird",
				
				PassiveSet = "Origami"

			},


		}
	},

	Rare = {
		Necklace = {

		},
		Amulet = {
			["BurnedHornAmulet"] = { 
				TitleName = "Burned Horn Amulet", 
				
				PassiveSet = "Burned Horn "
			},
			["ThunderHornAmulet"] = { 
				TitleName = "Thunder Horn Amulet", 
				
				PassiveSet = "Thunder Horn"
			}
		},
		Bracelet = {
			
			["FlameStoneBracelet"] = {
				TitleName = "Flame Stone Bracelet",
				 
				PassiveSet = "Flame of Eternal"

			},

		},
		Ring = {


		},
		Gems = {
			["Origami Gems"] = {

				TitleName = "Origami Gems",
				
				PassiveSet = "Origami"

			},
		},
		Apparel = {

		},
		Relic = {




		}
	},

	Uncommon = {
		Necklace = {

		},
		Amulet = {
			["BurnedHornAmulet"] = { 
				TitleName = "Burned Horn Amulet", 
				
				PassiveSet = "Burned Horn "
			},
			["ThunderHornAmulet"] = { 
				TitleName = "Thunder Horn Amulet", 
				
				PassiveSet = "Thunder Horn"
			}
		},
		Bracelet = {

		},
		Ring = {


		},
		Gems = {

		},
		Apparel = {

		},
		Relic = {




		}
	},

	Common = {
		
		Necklace = {

		},
		Amulet = {
			["BurnedHornAmulet"] = { 
				TitleName = "Burned Horn Amulet", 
				
				PassiveSet = "Burned Horn "
			},
			["ThunderHornAmulet"] = { 
				TitleName = "Thunder Horn Amulet", 
				
				PassiveSet = "Thunder Horn"
			}
		},
		Bracelet = {

		},
		Ring = {


		},
		Gems = {

		},
		Apparel = {

		},
		Relic = {




		}
	}






}


local ArtifactBonusPassiveIngame = {}

local function traverseAndCollectPassiveSets(tbl)
	for _, value in pairs(tbl) do
		if type(value) == "table" then
			if value.PassiveSet then
				ArtifactBonusPassiveIngame[value.PassiveSet] = (ArtifactBonusPassiveIngame[value.PassiveSet] or 0) + 1
			end
			traverseAndCollectPassiveSets(value)
		end
	end
end

traverseAndCollectPassiveSets(MainArtifactStat)

function MainArtifactStat:GetMainStats(PacketData)
	local rarity = PacketData.Rarity
	local Class = PacketData.Class
	local Name = PacketData.Name
	
	print(rarity)
	print(Class)
	print(Name)
	print("Checking MainStats")

	local weaponStats = self[rarity] and self[rarity][Class] and self[rarity][Class][Name]
	print(weaponStats)
	if weaponStats then
		local PriorityArtifact = require(script:WaitForChild(Class))
		local GetMainStat = PriorityArtifact:RandomStat()

		local CreateArtifact = self[rarity][Class][Name]

		local ExtraPassive
		repeat
			ExtraPassive = ArtifactBonusPassiveIngame[math.random(#ArtifactBonusPassiveIngame)]
		until ExtraPassive ~= weaponStats.PassiveSet
		

		-- เก็บ ExtraPassive ไว้ใน GetExtraPassive.ExtraPassive
		
		CreateArtifact.GetMainStat = GetMainStat
		CreateArtifact.ExtraPassive = ExtraPassive
		

		print(CreateArtifact)

		return CreateArtifact
	else
		
		print("No Artifact Found",rarity,Class,Name )
		return nil -- คืนค่าที่ต้องการเมื่อไม่พบข้อมูล
	end
end

return MainArtifactStat